
def generate_hls_variants(max_width, max_height, original_bitrate):
    hls_variants = []
    if max_width >= 3840 or max_height >= 2160:
        bitrate = 16000
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "4k",
                "resolution": "3840x2160",
                "video_bitrate": bitrate,
                "audio_bitrate": "320k",
            }
        )
    if max_width >= 2560 or max_height >= 1440:
        bitrate = 8000
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "1440p",
                "resolution": "2560x1440",
                "video_bitrate": bitrate,
                "audio_bitrate": "256k",
            }
        )
    if max_width >= 1920 or max_height >= 1080:
        bitrate = 5000
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "1080p",
                "resolution": "1920x1080",
                "video_bitrate": bitrate,
                "audio_bitrate": "128k",
            }
        )
    if max_width >= 1280 or max_height >= 720:
        bitrate = 2500
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "720p",
                "resolution": "1280x720",
                "video_bitrate": bitrate,
                "audio_bitrate": "128k",
            }
        )
    if max_width >= 854 or max_height >= 480:
        bitrate = 1250
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "480p",
                "resolution": "854x480",
                "video_bitrate": bitrate,
                "audio_bitrate": "96k",
            }
        )
    if max_width >= 640 or max_height >= 360:
        bitrate = 750
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "360p",
                "resolution": "640x360",
                "video_bitrate": bitrate,
                "audio_bitrate": "64k",
            }
        )
    if max_width >= 426 or max_height >= 240:
        bitrate = 400
        if original_bitrate < bitrate:
            bitrate = original_bitrate
        bitrate = f"{bitrate}k"
        hls_variants.append(
            {
                "playlist_name": "240p",
                "resolution": "426x240",
                "video_bitrate": bitrate,
                "audio_bitrate": "48k",
            }
        )
    return hls_variants

